<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>



//有效的括号：

//  给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串，判断字符串是否有效。
// 有效字符串需满足：
// 左括号必须用相同类型的右括号闭合。
// 左括号必须以正确的顺序闭合。
// 注意空字符串可被认为是有效字符串。

// 链接：https://leetcode-cn.com/problems/valid-parentheses




//  算法=======================================

// 初始化栈 S。
// 一次处理表达式的每个括号。
// 如果遇到开括号，我们只需将其推到栈上即可。这意味着我们将稍后处理它，让我们简单地转到前面的 子表达式。
// 如果我们遇到一个闭括号，那么我们检查栈顶的元素。如果栈顶的元素是一个 相同类型的 左括号，那么我们将它从栈中弹出并继续处理。否则，这意味着表达式无效。
// 如果到最后我们剩下的栈中仍然有元素，那么这意味着表达式无效。



/**
 * @param {string} s
 * @return {boolean}
 */
 
 var isValid = function(s) {
    if(s.length%2 !=0) return false;
    var brackets = {
        "(": ")",
        "{": "}",
        "[": "]"
    }
    var leftBrackets = [];
    for(var character of s){
        if(character in brackets){//左边括号
            leftBrackets.push(character);
        }else { //不是左括号，判断是否和最近的左括号（数组的最后一项）匹配
            var last = leftBrackets.pop();
            if(brackets[last] != character) return false;    
        }
    }
    return !leftBrackets.length; //leftBrackets 长度不为空则说明至少有一个做括号未被匹配
};

//测试用例
isValid('((())[]')
isValid('((')


    

    
</script>
    
</body>
</html>